<!-- 数据类型 -->

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>test_02</title>
</head>
<body>

</body>
<script>

    /* 两种数据类型区别 */
    
    /* 1.内存分配方式不同 */

    // 基本（原始）数据类型
    // -> 栈区
    // -> 栈存变量 新变量新建空间
    var num1 = 20;
    var num2 = num1;
    num1 = 10;
    console.log(num2);//20

    // 引用（对象）数据类型
    // -> 栈区和堆区
    // -> 栈存变量 变量值为地址 指向赋值内容 赋值内容在堆区 
    var obj1 = {"username":"zhangsan"};
    var obj2 = obj1; // obj1和obj2指向同一地址
    obj2.username = "lisi";
    console.log(obj1); // username: "lisi"
    // eg（以数组为例）：
    var arr1 = [1, 2, 3, 4, 5];
    var arr2 = arr1;
    arr2[0] = 6;
    console.log(arr1); // [6, 2, 3, 4, 5]


    /* 2.赋值时不同 */

    // 浅拷贝（指向相同内存空间）
    var obj1 = {"username":"zhangsan"};
    var obj2 = obj1;
    // 深拷贝（指向不同内存空间）
    var obj3 = {"username":"zhangsan"};
    var obj4 = {};
    var username = obj3.username;
    obj4.username = username;


    /* 3.判等时不同 */

    // 基本类型
    // -> == 判断值
    // -> === 判断类型和值（先类型后值）
    var num3 = 10;
    var num4 = 10;
    console.log(num3 == num4); // true
    console.log(num3 === num4); // true 类型相同 值相同

    // 引用类型
    // -> 判断指向的内存空间
    var obj5 = {};
    var obj6 = {};
    console.log(obj5 == obj6); // false 指向的内存空间不同


    /* 4.函数参数传递时不同 */

    // 按值传递

    // 按引用传递
    var obj7 = {"username":"zhangsan"};
    function fn1(x){
        x.username = "lisi";
    }
    fn1(obj7);
    console.log(obj7); // {username: "lisi"}
    console.log(fn1(obj7)); // undefined
</script>
</html>